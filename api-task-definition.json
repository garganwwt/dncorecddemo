{
    "memory": "1024",
    "networkMode": "awsvpc",
    "cpu": "512",
    "family": "fargate-task-definition",
    "requiresCompatibilities": [
       "FARGATE"
    ],
    "containerDefinitions": [
       {
          "essential": true,
          "name": "dncoreapi",
          "image": "ghcr.io/srirangv/dncorecicddemoghactions/dncoredb:latest",
          "repositoryCredentials": {
            "credentialsParameter": "arn:aws:secretsmanager:${{ env.AWS_REGION }}:${{ secrets.AWS_ACCOUNT_ID }}:secret:demo/imageregistry-8SNhU5"
          },
          "environment" : [
            { "name" : "DB_CONN_STR", "value" : "${{ secrets.DB_CONN_STR }}" }
          ],
          "portMappings": [ 
            { 
               "containerPort": 5001,
               "hostPort": 80,
               "protocol": "tcp"
            }
         ],
          "cpu": 512,
          "memoryReservation": 1024
       }
    ],
    "executionRoleArn": "arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/ecsTaskExecutionRole",
    "taskRoleArn": "arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/ecsTaskExecutionRole"
 }